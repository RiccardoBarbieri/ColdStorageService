<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="stylesheet" href="../_static/template.css">
<link rel="stylesheet" href="../_static/mine.css">
<link rel="stylesheet" href="../_static/code.css">
<link rel="stylesheet" href="../_static/colors.css">
<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/dockerfile.min.js"></script>


<script>hljs.highlightAll();</script>
<title>Sprint1</title>
</head>
    
<body>

<div id="top">

    <h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE<font size="5"></font> </h1>

</div>  

<div class="body"> 

<h2>Introduction</h2>
<div class="remark">
    <p>
        All'interno di questo <i>Sprint</i> verrà analizzato il <b>core-business</b> dell'applicazione, esplicitato nello <a target="_blank" href="../Sprint0/ColdStorageServiceSprint0V2.html#suddivisioneSprint">Sprint0</a> come l'interazione tra <i>ColdStorageService</i> (CSS) e <i>TransportTrolley</i> (TT).
    </p>
</div>

<h2>Requirements</h2>
 
<div class="remark">
    <p>
        <a target="_blank" href="https://iss.riccardob.dev/TemaFinale23.html">Descrizione requirements a questa pagina</a><br>
    </p>

    <bc>Goals dello sprint 1</bc>:
    <ol>
        <li>Definire con precisione i componenti dell'applicazione, limitandosi al contesto di <i>CSS</i> e <i>TT</i></li>
        <li>Formulare il modello di <b>interazione</b> tra <b>ColdStorageService</b> e <b>TransportTrolley</b></li>
    </ol>
    <p>
        L'interazione tra <i>TT</i> e <i>basicRobot</i> è essenziale per il funzionamento del core-business e verrà trattata nel corso del documento.
    </p>
</div>

<h2>Requirement analysis</h2>

<div class="remark">
    <p>
        Dal documento dei requisiti, relativamente a questo <i>Sprint</i>, consideriamo i seguenti argomenti da trattare:
    </p>
    <ul>
        <li>Service area</li>
        <li><i>basicRobot</i> e <i>TransportTrolley</i></li>
        <li>Interazione tra <i>CSS</i> e <i>TT</i></li>
    </ul>

    <p>
        Si riporta il risultato dell'analisi in <a href="../Sprint0/ColdStorageServiceSprint0V2.html#modello" target="_blank" rel="noopener noreferrer">Sprint0</a>, si baser&agrave; la seguente analisi su questo modello.<br>

    
        <img id="modello_iniziale" class="bigimglim" src="../../projects/sprint0V2/coldstorageservice23arch.png" alt="Modello dispatch" height="70%" width="70%">
    </p>
    <h3>Entit&agrave;</h3>
    <p>
        Limitandosi al core-business dell'applicazione, riportiamo le sole componenti d'interesse presenti nel modello sopra definito.
    </p>
        <ul>
            <li>ServiceAccessGUI</li>
            <li>ColdStorageService</li>
            <li>TransportTrolley</li>
            <li>BasicRobot</li>
        </ul>
    <p class="keypoint">
       <b>KEY-POINT:</b> ogni entità corrisponde ad un <b>attore</b> 
    </p>
    <h3 id="dati_analisi_requisiti">Dati</h3>
    <p>
        Di seguito, sono elencati tutti i dati d'interesse per questo Sprint presenti nel <a target="_blank" href="https://iss.riccardob.dev/TemaFinale23.html">documento dei requisiti</a>, con annessa una breve descrizione.
    </p>
        <table>
            <tr>
                <th>Dato</th>
                <th>Tipologia</th>
                <th>Descrizione</th>
            </tr>
            <tr>
                <td class="green bold center">MAXW</td>
                <td>Costante, float</td>
                <td>Limite massimo di chilogrammi che la ColdRoom pu&ograve; contenere in un dato momento.</td>
            </tr>
            <tr>
                <td class="green bold center">RD</td>
                <td>Costante, intera</td>
                <td>Lunghezza del lato del transport trolley.</td>
            </tr>
            <tr>
                <td class="green bold center">FW</td>
                <td>Variabile, float</td>
                <td>Quantit&agrave; di carico che un camion refrigerato deve depositare, espressa in chilogrammi.</td>
            </tr>
            <tr>
                <td class="green bold center">TTState</td>
                <td>Enumerativo</td>
                <td>Tre valori che rappresentano i possibili stati in cui si pu&agrave; trovare il transport trolley (in HOME, in movimento e fermo): <pre>HOME, MOVING, STOPPED</pre></td>
            </tr>
            <tr>
                <td class="green bold center">currentTTState</td>
                <td>Variabile, enumerativo</td>
                <td>Stato attuale del transport trolley, di tipo <code class="prettyprint">TTState</code></td>
            </tr>
        </table>

    <h3 id="messaggi">Messaggi</h3>
    <p>
        Sono riportati i messaggi, presi sempre dal modello, che realizzano le interazioni tra le varie entità (esclusi quelli tra <i>TransportTrolley</i> e <i>BasicRobot</i>, che verranno analizzati in seguito).
    </p>
    <table>
        <thead>
            <tr>
                <th>Mittente</th>
                <th>Destinatario</th>
                <th>Tipologia messaggio</th>
                <th>Identificatore</th>
                <th>Payload</th>
                <th>Significato</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="orange bold center">serviceaccessgui</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Request</td>
                <td>storerequest</td>
                <td>storerequest(FW)</td>
                <td>Richiesta di <b>storage</b> di <b>FW</b> chili di cibo.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">serviceaccessgui</td>
                <td class="blue bold center">Reply</td>
                <td>loadaccepted</td>
				<td>loadaccepted()</td>
                <td>La richiesta di deposito &egrave; stata accettata.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">serviceaccessgui</td>
                <td class="blue bold center">Reply</td>
                <td>loadrejected</td>
				<td>loadrejected()</td>
                <td>La richiesta &egrave; stata rifiutata.</td>
            </tr>
            <tr>
                <td class="orange bold center">serviceaccessgui</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Request</td>
                <td>chargestatus</td>
				<td>chargestatus()</td>
                <td>Viene richiesto lo stato del carico depositato.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">serviceaccessgui</td>
                <td class="blue bold center">Reply</td>
                <td>chargetaken</td>
				<td>chargetaken()</td>
                <td>Il deposito è stato preso in carico dal transport trolley, il camion deve spostarsi da INDOOR.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">serviceaccessgui</td>
                <td class="blue bold center">Reply</td>
                <td>chargefailed</td>
				<td>chargefailed()</td>
                <td>Ci sono stati problemi durante la presa in carico del deposito.</td>
            </tr>
        </tbody>
    </table>

    <p class="nota">
        Ogni risposta è presente nella sua accezione di successo e di fallimento. Si discrimina quindi in base al messaggio e non all'argomento, in modo da gestire con maggiore flessibilità il passaggio tra i vari stati degli attori Qak.
    </p>
    <p>
        Vediamo essere presente una semantica <b>request-reply</b> che comprende tutte le interazioni dalla <i>ServiceAccessGUI</i> al <i>TransportTrolley</i>, passando per il <i>ColdStorageService</i>.
    </p>
    <p>
        In questo modello, gli unici messaggi che vengono inviati dalla <i>ServiceAccessGUI</i> sono:
    </p>
        <ul>
            <li><i>storerequest(FW)</i>, per la richiesta di deposito;</li>
            <li><i>chargestatus()</i>, per la richiesta dello stato del carico;</li>
        </ul>
    <p>
        questa decisione si basa sul fatto che in questo <i>Sprint</i> <b>non verr&agrave; trattata la questione dei <i>ticket</i></b>.
    </p>
    <p class="keypoint">
        <b>KEY-POINT</b>: semantica request-reply per le interazioni della core-business.
    </p>

    <h3>Modello dei requisiti</h3>
    <p>
        Definiamo il nuovo modello dei requisiti che fungerà da punto di partenza per la nostra analisi.
    </p>

    <p>
        In aggiunta al modello iniziale, esplicitiamo la relazione <i>TransportTrolley-BasicRobot</i>. Dal <a target="_blank" href="https://iss.riccardob.dev/TemaFinale23.html">documento dei requisiti</a> viene esplicitato che il <b>TT usa il DDR</b> per realizzare il movimento.
    </p>
    
    <h4 id="tt_analisi_requisiti">TransportTrolley e DDR Robot</h4>
    <p>      
        Il <i>TransportTrolley</i> &egrave; una entit&agrave; che si interpone tra il <i>BasicRobot</i> e il <i>ColdStorageService</i> e offre operazioni di alto livello per effettuare un deposito, in particolare:
    </p>
        <ul>
            <li>prelevare un carico di cibo da INDOOR;</li>
            <li>depositare un carico prelevato ColdRoom;</li>
            <li>spostarsi da ColdRoom a HOME una volta completato il deposito;</li>
            <!--<li>comunicare il proprio <b>stato</b> a entit&agrave; interessate.</li>-->
        </ul>
    <p>
        Inoltre, questa entit&agrave; deve essere in grado di comunicare all'esterno quando un carico viene prelevato; verr&agrave; discusso in analisi del problema se comunicarlo direttamente al componente interessato o al <i>ColdStorageService</i>, in vece di gestore del servizio.
    </p>

    <p class="nota">
        Queste funzionalit&agrave; condividono un requisito fondamentale: la possibilit&agrave; di <b>navigare</b> la <b>service area</b>. A questo scopo, partendo dal <a href="../Sprint0/ColdStorageServiceSprint0V2.html#serviceareamodel" target="_blank" rel="noopener noreferrer">modello formale</a> presente nello <i>Sprint0</i>, verrà definita nei prossimi paragrafi una rappresentazione comprensibile al componente che controller&agrave; il robot concreto.
    </p>
    <p>
        Il <i>DDR Robot</i> sar&agrave; rappresentato da un robot virtuale, disponibile alla nostra software house, che offre una visualizzazione di un robot virtuale che naviga una service area virtuale.
    </p>

    <p id="modelli_css-tt">
        <b>MODELLI</b><br>
        Dai <a target="_blank" href="https://iss.riccardob.dev/TemaFinale23.html">documento dei requisiti</a> non emerge un modello univoco di interazione tra <i>TransportTrolley</i> e <i>ColdStorageService</i>, si propongono quindi due opzioni, verr&agrave; discussa in analisi del problema la scelta.
    </p>

    <p>
        <i>Opzione 1</i><br>
        Il ColdStorageService invia una istruzione di deposito generale e il TransportTrolley decide come gestire gli spostamenti
    </p>
    <table>
        <thead>
            <tr>
                <th>Mittente</th>
                <th>Destinatario</th>
                <th>Tipologia messaggio</th>
                <th>Identificatore</th>
                <th>Payload</th>
                <th>Significato</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">transporttrolley</td>
                <td class="blue bold center">Request</td>
                <td>deposit</td>
				<td>deposit()</td>
                <td>Il CSS comunica al transport trolley che è presente un nuovo carico da depositare.</td>
            </tr>
            <tr>
                <td class="orange bold center">transporttrolley</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Reply</td>
                <td>chargetakentt</td>
				<td>chargetakentt()</td>
                <td>Il carico &egrave; stato prelevato dal transport trolley.</td>
            </tr>
            <!--<tr>
                <td class="orange bold center">transporttrolley</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Reply</td>
                <td>chargefailedtt</td>
				<td>chargefailedtt()</td>
                <td>Ci sono stati problemi durante la presa in carico da parte del transport trolley.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">transporttrolley</td>
                <td class="blue bold center">Request</td>
                <td>depositstatus</td>
				<td>depositstatus()</td>
                <td>Viene richiesto al transport trolley lo stato del cibo che ha preso in carico.</td>
            </tr>
            <tr>
                <td class="orange bold center">transporttrolley</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Reply</td>
                <td>chargedeposited</td>
				<td>chargedeposited()</td>
                <td>Il carico &egrave; stato depositato nella ColdRoom.</td>
            </tr>
            <tr>
                <td class="orange bold center">transporttrolley</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Reply</td>
                <td>chargedepfailed</td>
				<td>chargedepfailed()</td>
                <td>Ci sono stati problemi durante il deposito del carico nella ColdRoom.</td>
            </tr>-->
        </tbody>
    </table>
    <p>
        <i>Opzione 2</i><br>
        Il ColdStorageService invia istruzioni dettagliate di spostamento, TransportTrolley non prende decisioni a riguardo
    </p>
    <table>
        <thead>
            <tr>
                <th>Mittente</th>
                <th>Destinatario</th>
                <th>Tipologia messaggio</th>
                <th>Identificatore</th>
                <th>Payload</th>
                <th>Significato</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">transporttrolley</td>
                <td class="blue bold center">Request</td>
                <td>toindoor</td>
			    <td>toindoor()</td>
                <td>Il CSS indica al TT di muoversi a INDOOR e prelevare un carico.</td>
            </tr>
            <tr>
                <td class="orange bold center">transporttrolley</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Reply</td>
                <td>chargetakentt</td>
			    <td>chargetakentt()</td>
                <td>Il carico &egrave; stato prelevato dal TT.</td>
            </tr>
            <tr>
                <td class="orange bold center">transporttrolley</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Request</td>
                <td>depositcharge</td>
			    <td>depositcharge()</td>
                <td>Il CSS indica al TT di depositare il carico nella ColdRoom.</td>
            </tr>
            <tr>
                <td class="orange bold center">transporttrolley</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Reply</td>
                <td>chargedeposited</td>
			    <td>chargedeposited()</td>
                <td>Il carico &egrave; stato depositato dal TT.</td>
            </tr>
            <tr>
                <td class="orange bold center">transporttrolley</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Request</td>
                <td>returnhome</td>
			    <td>returnhome()</td>
                <td>Il CSS indica al TT di tornare a HOME.</td>
            </tr>
            <tr>
                <td class="orange bold center">transporttrolley</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Reply</td>
                <td>returned</td>
			    <td>returned()</td>
                <td>Il TT ha raggiunto HOME.</td>
            </tr>
        </tbody>
    </table>
    
    <h4 id="components_CSS">ColdStorageService</h4>

    <p>
        Il <i>ColdStorageService</i> &egrave; l'entit&agrave; che si pone come <b>punto di accesso unificato</b> al servizio, ricevendo richieste per nuovi carichi, per l'avvio di un'azione di deposito e per la conferma dello stato di un'azione di deposito (come discusso nello <a href="" about="_blank">Sprint0</a>); si esclude dalla considerazione, in questo Sprint, la gestione del ticket.
    </p>

    <p>
        &Egrave; stata discussa con il committente la questione dell'allontanamento del camion refrigerato dalla INDOOR: il messaggio <b>chargetaken</b> conferma il completamento del ritiro del carico da parte del transport trolley, in tal momento il camion <b>deve allontanarsi immediatamente</b>. In caso di richiesta rifiutata il camion si deve allontanare alla ricezione del messaggio <b>storerejected</b>.
    </p>

    <p>
        Dall'ultimo incontro con il committente &egrave; emerso che il <i>DDR Robot</i> impiega un <b>tempo predefinito</b> per prelevare un carico dal camion.
    </p>

    <h4>Modello dei requisiti</h4>

    <p>
        Di seguito si riportano due possibili modelli di interazioni emersi durante l'analisi dei requisiti
    </p>

    <img class="bigimglim" src="../images/sprint1/css23modelSimpleCSS-TTarch.png" alt="Modello single message">
    <img class="bigimglim" src="../images/sprint1/css23modelComplexCSS-TTarch.png" alt="Modello single message">

</div>

<h2>Problem analysis</h2>

<div class="remark">

    <h3>Componenti</h3>

    <h4>ServiceAccessGUI</h4>

    <p>
        Data la complessit&agrave; del componente, abbiamo deciso di analizzare questo componente in uno Sprint parallelo al progetto principale: la relativa analisi è presente in <a href="./ServiceAccessGUISimProjectV1.html">questo documento</a>. 
    </p>

    <p class="nota">
        In questo Sprint la <i>ServiceAccessGUI</i> non gestir&agrave; l'inserimento del ticket e la differenziazione tra gli utenti che interagiscono, in quanto queste funzionalit&agrave;, non inerenti al core-business, verranno analizzate nel prossimo Sprint.<br> 
    </p>

    <h4>ColdStorageService</h4>
    <p>
        Tra i due modelli definiti in <a href="#modelli_css-tt" target="_blank" rel="noopener noreferrer">analisi dei requisiti</a>, abbiamo optato per il primo, in cui il <i>CSS</i> delega al <i>TransportTrolley</i> la realizzazione delle logiche di movimento. <br>
        Il <i>CSS</i> si occuperà quindi solo di:
    </p>
        <ul>
            <li>accettare/rifiutare la richiesta di deposito</li>
            <li>notificare il <i>TransportTrolley</i> della presenza di un nuovo carico</li>
            <li>notificare la <i>ServiceAccessGUI</i> della presa in carico da parte del <i>TT</i> (messaggio <b>chargetaken</b>)</li>
        </ul>
    <p>
        Il <i>ColdStorageService</i> non si interessa del raggiungimento dei particolari landmark nella Service Area (<i>HOME</i>,
        <i>INDOOR</i>, <i>ColdRoom</i>), in quanto l'operazione è delegata al <i>TransportTrolley</i>. In questo modo il <i>CSS</i> risulterà completamente indipendente dalla particolare disposizione dell'area di servizio (come le possibili diverse posizioni dei punti di interesse e degli ostacoli).
    </p>
    <p class="keypoint">
        <b>KEY-POINT</b>: il ColdStorageService è completamente indipendente dalla particolare disposizione dell'area di servizio e dalle logiche di movimento del trolley, rispettando così anche il <b>principio di singola responsabilità</b>.
    </p>

    <h5 id="servicearea_analisi_problema">Service area</h5>

    <p>
        Partendo dalla misurazione in metri vista nello <a href="../Sprint0/ColdStorageServiceSprint0V2.html#serviceareamodel" target="_blank">Sprint0</a>, introduciamo il concetto di <b>unità robot</b>. La nostra nuova unità di misura si basa sulla dimensione del lato del <i>TransportTrolley</i>, ovvero <b>RD</b>. <br>
        Questo ci ha permesso di suddividere la <b>service area</b> in una griglia di quadrati di lato <b>RD</b>, in modo tale che ogni posizione sulla griglia possa contenere il <i>DDR robot</i>.
    </p>

    <p class="keypoint">
        <b>KEY-POINT</b>: servicearea rappresentata come griglia di quadrati di lato <b>RD</b>, ovvero l'<b>unità robot</b>.
    </p>
    <p>
        La rappresentazione della service area diventa quindi come nella figura sottostante: si noti il sistema di assi cartesiani che pone il punto (0, 0) in corrispondenza della posizione <b>HOME</b>, che corrisponde alla posizione di partenza.
    </p>

    <p>
        I <i>punti di interesse</i> <b>INDOOR</b> e <b>PORT</b> finora sono stati modellati come posizioni monodimensionali, in quanto si tratta di "aperture" al quale il robot può accedere: in questo modello verranno indicati come "<i>la posizione in cui il robot deve trovarsi per potervi accedere</i>".
    </p>

    <p>
        Dal punto di vista del <b>transport trolley</b> la service area sar&agrave; rappresentata da una <b>griglia NxM</b>. 
    </p>


    <figure>
        <img class="bigimglim" src="../images/sprint1/serviceareagridaxes.png" alt="Modello service area">
    </figure>

    <p class="nota">
        La dimensione di ColdRoom, Port e Indoor è stata adatta per farla combaciare alle dimensioni della griglia. Infatti, muovendosi il robot "cella per cella", sarebbe inutile avere celle piene a metà in quanto il <i>TransportTrolley</i> non potrebbe ugualmente accedervi.
    </p>

    <p>
        Per generare una mappa della service area abbiamo sfruttato il software <code class="prettyprint">unibo.mapperQak23</code> che si avvale di <code class="prettyprint">basicrobot</code> per ottenere le dimensioni dell'area e individuare eventuali ostacoli lungo i bordi, generando una rappresentazione della service area. <br>
        La rappresentazione generata verrà utilizzata come mappa di default dall'applicazione <i>mapConfigurator</i> (realizzata in <a href="./MapConfiguratorProject.html" target="_blank" rel="noopener noreferrer">questo documento</a>) per personalizzare la service area. <br>
    </p>


    <h4>TransportTrolley, DDR Robot e BasicRobot</h4>

    <p>
        Il <b>DDR Robot</b> è il supporto fisico che si muove nella service area ed esegue le azioni di deposito. Ai fini di testare la funzionalit&agrave; del sistema si far&agrave; uso del supporto <b>VirtualRobot</b>, a disposizione della nostra software house, un robot virtuale che naviga una service area virtuale.<br> 
    </p>
    <p>
        Per guidare il robot, il TransportTrolley comunicher&agrave; con il software <b>BasicRobot</b>, sistema che permettere di intercambiare supporto (DDR robot o VirtualRobot) fornito dal committente; il software espone l'attore qak <b>basicrobot</b> con il quale &egrave; possibile comunicare per indicare al robot dove spostarsi, indicando le coordinate della destinazione da raggiungere.
    </p>

    <p>
        <i>basicrobot</i> &egrave; in grado di interpretare l'area da navigare tramite il modello della service area formulato. La service area verr&agrave; quindi passata all'attore <i>basicrobot</i> tramite un formato testuale <i>ad hoc</i>, configurabile tramite l'utilizzo del mapConfigurator; di seguito un esempio:
    </p>
        <pre><code class="language-bash">|1, 1, 1, 1, 1, 1, 1, 
|1, 0, 0, 0, X, X, 1, 
|1, 0, 0, 0, X, X, 1, 
|1, 0, 0, 0, 0, 0, 1, 
|1, 1, 1, 1, 1, 1, 1, 
</code></pre>
    <p>
        Ogni numero o lettera rappresenta una cella della griglia, dove:
    </p>
    <ul>
        <li>0: cella non esplorata</li>
        <li>1: cella libera esplorata</li>
        <li>X: cella con ostacolo</li>
    </ul>

    <p>
        Tra i due <a href="#modelli_css-tt">modelli proposti</a> in analisi dei requisiti abbiamo deciso di mantenere la prima opzione, che assegna la responsabilit&agrave; dei singoli spostamenti al TransportTrolley; questa scelta &egrave; stata fatta per ridurre le responsabilit&agrave; del ColdStorageService, rispettando il principio di singola responsabilit&agrave;.
    </p>

    <h5>TrolleyExecutor</h5>

    <p>
        Analizzando il problema del ritorno del robot alla posizione HOME dopo aver depositato un carico, abbiamo deciso di arricchire il modello con un componente intermedio, il <b>TrolleyExecutor</b>, per implementare <i>funzionalit&agrave; di pi&ugrave; alto livello</i> per muovere il robot rispetto a quelle offerte dal basicrobot.
    </p>

    <p>
        La prima di queste funzionalit&agrave; consiste nell'abilitare il TransportTrolley a esprimere uno spostamento verso la coordinata pi&ugrave; vicina tra quelle in una lista specificata.
    </p>

    <p class="keypoint" id="ottimizzazione">
        <b>KEY-POINT: </b> Questa funzionalit&agrave; permette di ottimizzare la distanza che il robot deve percorrere in certe istanze, riducendo il tempo di esecuzione di alcuni specifici spostamenti. 
    </p>

    <p>
        In seguito verr&agrave; specificato il modello interazione delle tre entit&agrave; che realizzano il movimento del robot.
    </p>
    
    <h5 id="basicRobot_analisi">TransportTrolley-TrolleyExecutor-BasicRobot</h5>

    <p>
        L'attore Qak <i>basicRobot</i>, contestualmente al core-business di questo <i>Sprint</i>, &egrave; incaricato di realizzare il movimento tra i vari <i>landmarks</i> della <a href="#servicearea_analisi_problema">Service Area</a>. <br>
    Tra le entità da noi definite, il <i>TrolleyExecutor</i> è l'unico a comunicare con il suddetto attore e necessiterà dei seguenti messaggi per attuare gli spostamenti.
    
    <table>
        <thead>
            <tr>
                <th>Mittente</th>
                <th>Destinatario</th>
                <th>Tipologia messaggio</th>
                <th>Identificatore</th>
                <th>Payload</th>
                <th>Significato</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="orange bold center">basicrobot</td>
                <td class="blue bold center">Request</td>
                <td>engage</td>
			    <td>engage(OWNER, STEPTIME)</td>
                <td>Il TE "ingaggia" il BR, ottenendo utilizzo esclusivo specificando di essere l'utilizzatore insieme al tempo di STEPTIME (in ms)</td>
            </tr>
            <tr>
                <td class="orange bold center">basicrobot</td>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="blue bold center">Reply</td>
                <td>engagedone</td>
			    <td>engagedone()</td>
                <td>L'ingaggio del BR da parte del TE è andato a buon fine</td>
            </tr>
            <tr>
                <td class="orange bold center">basicrobot</td>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="blue bold center">Reply</td>
                <td>engagerefused</td>
			    <td>engagerefused()</td>
                <td>L'ingaggio del BR da parte del TE NON è andato a buon fine</td>
            </tr>
            <tr>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="orange bold center">basicrobot</td>
                <td class="blue bold center">Request</td>
                <td>disengage</td>
			    <td>disengage(arg)</td>
                <td>Il TE specifica la terminazione dell'ingaggio al BR</td>
            </tr>
            <tr>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="orange bold center">basicrobot</td>
                <td class="blue bold center">Dispatch</td>
                <td>setrobotstate</td>
			    <td>setpos(X, Y, dir)</td>
                <td>Il TE comunica al BR posizione e direzione di inizializzazione del virtualrobot</td>
            </tr>
            <tr>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="orange bold center">basicrobot</td>
                <td class="blue bold center">Request</td>
                <td>moverobot</td>
			    <td>moverobot(TARGETX, TARGETY)</td>
                <td>Il TE comunica al BR le coordinate verso qui effettuare lo spostamento</td>
            </tr>
            <tr>
                <td class="orange bold center">basicrobot</td>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="blue bold center">Reply</td>
                <td>moverobotdone</td>
			    <td>moverobotok()</td>
                <td>Lo spostamento indicato dal TE è andato a buon fine</td>
            </tr>
            <tr>
                <td class="orange bold center">basicrobot</td>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="blue bold center">Reply</td>
                <td>moverobotfailed</td>
			    <td>moverobotfailed(PLANDONE, PLANTODO)</td>
                <td>Lo spostamento indicato dal TE NON è andato a buon fine e vengono restituiti dal BR informazioni relative allo spostamento effettuato e a quello mancante</td>
            </tr>
            <tr>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="orange bold center">basicrobot</td>
                <td class="blue bold center">Event</td>
                <td>alarm</td>
			    <td>alarm()</td>
                <td>Il TE comunica al BR di fermare il virtualrobot</td>
            </tr>
            <tr>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="orange bold center">basicrobot</td>
                <td class="blue bold center">Request</td>
                <td>getrobotstate</td>
			    <td>getrobotstate()</td>
                <td>Il TE comunica al BR le coordinate verso qui effettuare lo spostamento</td>
            </tr>
            <tr>
                <td class="orange bold center">basicrobot</td>
                <td class="orange bold center">trolleyexecutor</td>
                <td class="blue bold center">Reply</td>
                <td>robotstate</td>
			    <td>robotstate(POS, DIR)</td>
                <td>Il BR indica ritorna la posizione ed il direzionamento del virtualrobot</td>
            </tr>
        </tbody>
    </table>
    </p>
    <p>
        Inoltre, nella tabella sottostante, sono riportati i messaggi tra <i>TransportTrolley</i> e <i>TrolleyExecutor</i>.
        <table>
            <thead>
                <tr>
                    <th>Mittente</th>
                    <th>Destinatario</th>
                    <th>Tipologia messaggio</th>
                    <th>Identificatore</th>
                    <th>Payload</th>
                    <th>Significato</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="orange bold center">transporttrolley</td>
                    <td class="orange bold center">trolleyexecutor</td>
                    <td class="blue bold center">Request</td>
                    <td>move</td>
                    <td>move(X, Y)</td>
                    <td>Il TT comunica al TE le coordinate verso cui effettuare lo spostamento</td>
                </tr>
                <tr>
                    <td class="orange bold center">trolleyexecutor</td>
                    <td class="orange bold center">transporttrolley</td>
                    <td class="blue bold center">Reply</td>
                    <td>movedone</td>
                    <td>movedone()</td>
                    <td>Lo spostamento è andato a buon fine</td>
                </tr>
                <tr>
                    <td class="orange bold center">trolleyexecutor</td>
                    <td class="orange bold center">transporttrolley</td>
                    <td class="blue bold center">Reply</td>
                    <td>movefailed</td>
                    <td>movefailed()</td>
                    <td>Lo spostamento NON è andato a buon fine</td>
                </tr>
                <tr>
                    <td class="orange bold center">transporttrolley</td>
                    <td class="orange bold center">trolleyexecutor</td>
                    <td class="blue bold center">Request</td>
                    <td>moveclosest</td>
                    <td>moveclosest(Xs, Ys)</td>
                    <td>Il TT comunica al TE una lista di coordinate tra cui scegliere e verso cui effettuare lo spostamento</td>
                </tr>
                <tr>
                    <td class="orange bold center">trolleyexecutor</td>
                    <td class="orange bold center">transporttrolley</td>
                    <td class="blue bold center">Reply</td>
                    <td>movecdone</td>
                    <td>movecdone()</td>
                    <td>Lo spostamento alle coordinate più vicine è andato a buon fine</td>
                </tr>
                <tr>
                    <td class="orange bold center">trolleyexecutor</td>
                    <td class="orange bold center">transporttrolley</td>
                    <td class="blue bold center">Reply</td>
                    <td>movecfailed</td>
                    <td>movecfailed()</td>
                    <td>Lo spostamento alle coordinate più vicine NON è andato a buon fine</td>
                </tr>
            </tbody>
        </table>
        <p class="nota">
            Nonostante sia da discutere l'interesse del committente nell'<a href="#ottimizzazione">ottimizzazione discussa sopra</a>, abbiamo riportato gli eventuali messaggi necessari.
        </p>
    </p>
    <p>
        Nella nostra astrazione tra <i>TransportTrolley</i>, <i>TrolleyExecutor</i> e <i>basicRobot</i> abbiamo mantenuto la semantica <b>request-reply</b> per gli spostamenti, in quanto è necessario essere a conoscenza del successo o fallimento del movimento.
    </p>
    <p class="nota">
        Essendo che il <i>basicRobot</i> necessità di coordinate per muoversi, il <i>TransportTrolley</i> deve conoscerle obbligatoriamente. In particolare, deve avere a disposizione il mapping <i>landmarks</i>-<i>coordinate</i>, in modo da poter comunicare al <i>TrolleyExecutor</i> lo spostamento che dovrà implementare. 
    </p>

    <h6>Modello</h6>
    <p>
        Di seguito, riportiamo il modello logico limitato al contesto di <i>TransportTrolley</i>, <i>TrolleyExecutor</i> e <i>basicRobot</i>.
    </p>
    <p>
        <img class="bigimglim" src="../images/sprint1/css23modelTT-TE-BR.png" alt="Modello TransportTrolley-TrolleyExecutor-BasicRobot">
    </p>

    <h5>Responsabilità dei singoli componenti</h5>
<p>
    Viene riportata di seguito una tabella con tutte le funzionalità svolte da già ciascun componente. Per ognuno di essi, viene rispettato il <b>principio di singola responsabilità</b>. 
</p>
<p>

    <table>
        <tr>
            <th>Entit&agrave;</th>
            <th>Responsabilità</th>
        </tr>
        <tr>
            <td class="green bold center">serviceaccessgui</td>
            <td>Entit&agrave; adibita al testing che permette l'invio di una richiesta a <i>coldstorageservice</i> per dare inizio alla fase di deposito</td>
        </tr>
        <tr>
            <td class="green bold center">coldstorageservice</td>
            <td>Gestisce le richieste di deposito (accettazione/rifiuto) e notifica il <i>transporttrolley</i> della presenza di un nuovo carico</td>
        </tr>
        <tr>
            <td class="green bold center">transporttrolley</td>
            <td>Definisce il movimento che deve compiere il robot e gestisce la sua coda di richieste</td>
        </tr>
        <tr>
            <td class="green bold center">trolleyexecutor</td>
            <td>Implementa lo spostamento comunicando con il <i>basicrobot</i> basandosi sulle coordinate fornite dal <i>transporttrolley</i></td>
        </tr>
        <tr>
            <td class="green bold center">basicrobot</td>
            <td>Entit&agrave; che riceve istruzioni di "medio livello" e le traduce in istruzioni di basso livello per guidare il DDR robot o un virtual robot.</td>
        </tr>
    </table>
</p>


    <h3>Interazioni</h3>
    <p>
        Riguardo alle interazioni viste in fase di <a href="#messaggi">analisi dei requisiti</a>, vengono aggiunte le interazioni presenti tra <b>TrolleyExecutor</b> e <b>basicRobot</b> per realizzare il movimento vero e proprio (descritte nella sezione <a href="#basicRobot_analisi">Basic robot</a> subito sopra).
    </p>

    <h5>Diagrammi di sequenza</h5>
    <p>
        Le frecce sono colorate in base al tipo di messaggio:
        <ul>
            <li><span class="bold" style="color:rgb(231, 48, 48);">request/reply</span></li>
            <li><span class="bold" style="color:rgb(48, 79, 231);">dispatch</span></li>
            <li><span class="bold" style="color:rgb(48, 231, 109);">event</span></li>
        </ul>
    </p>
    <p>
        Si riporta lo schema di funzionamento del core-business, supponendo che il carico venga accettato (in caso contrario il flusso si ferma). <br>
        Sono presenti anche i messaggi per i 3 movimenti che dovrà compiare il robot: 
        <ol>
            <li>raggiungere la <b>INDOOR</b></li>
            <li>raggiungere la <b>PORT</b></li>
            <li>ritornare in posizione <b>HOME</b></li>
        </ol>
    </p>
    <p class="nota">
        Viene esplicitata chiaramente la semantica <b>request-reply</b> usata nell'intero ciclo di interazioni.
    </p>
    <img class="bigimglim" src="../images/sprint1/diag_sequenza_ALL_new.png" alt="Diagramma di sequenza core-business">

    <p>
        Nell'immagine viene dettagliata la specifica interazione tra <i>TrolleyExecutor</i> e <i>BasicRobot</i>, in particolare la semantica del funzionamento della richiesta <i>moveclosest</i>.<br>
        In alto, è presente anche il protocollo di inizializzazione tra le due entità che implementano il movimento.
    </p>
    <img class="bigimglim" src="../images/sprint1/diag_sequenza_TT_TR_BR_new.png" alt="Diagramma di sequenza tra TT, TE e BR">

    <p class="keypoint">
        <b>ATTENZIONE:</b> questi diagrammi di sequenza sono stati creati manualmente e NON generati automaticamente dal progetto qak: occorre quindi aggiornarli in caso di modifiche.
    </p>
</p>   

    <h4 id="modello_finale">Modello</h4>
    <p>
        Esponiamo il modello logico completo risultante dall'analisi del problema appena redatta.
    </p>

    <img class="bigimglim imgborder" src="../images/sprint1/coldstorageservice23arch.png"></img>

    <b>TODO: INSERIRE UNA ICONA CON RELATIVE INTERAZIONI PER LA SAG, mettendo una nota per specificare che non è stata generata da qak</b>
</div>


<h2>Test plans</h2> 

<div class="remark">
    <p>
        Essendo che è già stata presentata nello <a target="_blank" href="../Sprint0/ColdStorageServiceSprint0V2.html#test_plans">Sprint0</a> una unità di test JUnit che verifica il funzionamento della stessa logica di interazione presente in questo Sprint, abbiamo deciso di non realizzare nessun altro piano di test ulteriore. <br>
        In questo Sprint, l'interazione <i>CSS-TT</i> non rispetta ancora tutti i requisiti, in quanto manca la gestione del ticket: abbiamo quindi deciso di delegare la realizzazione di un'ulteriore unit&agrave; di test al prossimo Sprint, ove anche questo aspetto sarà trattato.
    </p>
</div>


<h2>Project</h2> 
 
<div class="remark">

    <h3>ColdStorageService</h3>
    <p>
        Come evidenziato nel modello finale dell'analisi del problema, gli attori <b>coldstorageservice</b>, <b>transporttrolley</b> e <b>trolleyexecutor</b> risiedono nello stesso contesto in questo sprint, nel prossimo sviluppo verrano aggiunti componenti che determineranno un nuova distribuzione in contesti.
    </p>
    <p>
        Nei paragrafi successivi viene dettagliato il comportamento di ognuno dei 3 attori, fornendo specifiche sulla relativa implementazione.
    </p>

    <h5>Attore coldstorageservice</h5>

    <p>
        L'attore <b>coldstorageservice</b> &egrave; incaricato di comunicare con la <i>ServiceAccessGUI</i>: gestisce la richiesta di deposito accettandola se la ColdRoom pu&ograve; contenere il carico richiesto, rifiutandola altrimenti.

        A questo scopo si utilizzano le variabili e constanti:
        <ul>
            <li><code class="docutils literal notranslate"><span class="pre">val maxColdRoom: Float</span></code>: mantiene il peso massimo che la ColdRoom pu&ograve; contenere</li> 
            <li><code class="docutils literal notranslate"><span class="pre">var currentColdRoom: Float</span></code>: memorizza il peso corrente contenuto nella ColdRoom</li> 
        </ul>

        <p>
            Questo attore &egrave; incaricato di valutare l'accettazione della richiesta: nel caso in cui venga accettata risponde alla ServiceAccessGUI con la risposta <b>loadaccepted</b>, successivamente attende una richiesta <code class="docutils literal notranslate"><span class="pre">chargestatus</span></code> da parte della ServiceAccessGUI.<br>
            La richiesta <code class="docutils literal notranslate"><span class="pre">chargestatus</span></code> &egrave; stata introdotta come comunicazione da parte della SAG che il camion &egrave; arrivato a INDOOR e il TransportTrolley pu&ograve; prelevare il carico; nel prossimo sprint questa interazione verr&agrave; rifinita dalla richiesta di inserimento del ticket.
        </p>

        <p>
            La richiesta <code class="docutils literal notranslate"><span class="pre">deposit(FW)</span></code>, inviata dal CSS al TransportTrolley, denota la partenza del robot da HOME (o altra posizione se era in gestione un altro carico) verso INDOOR. Una volta prelevato il carico il CSS riceve risposta <code class="docutils literal notranslate"><span class="pre">chargetakentt</span></code>, successivamente il CSS comunica alla SAG che il camion deve spostarsi da INDOOR tramite la risposta <code class="docutils literal notranslate"><span class="pre">chargetaken</span></code>.
        </p>
        
    </p>

    <h5>Attore transporttrolley</h5>

    <p>
        Il <b>transporttrolley</b> &egrave; incaricato di comunicare al <i>trolleyexecutor</i> dove dovr&agrave; spostare il robot.
    </p>
    <p>
        Quando riceve un messaggio <b>deposit</b> l'attore comunica al <i>trolleyexecutor</i> di spostarsi a INDOOR tramite il messaggio <b>move(x, y)</b> (possibile in quanto il <i>TT</i> ha il mapping landmark-coordinate); successivamente comunica a coldstorageservice che il carico &egrave; stato prelevato con il messaggio <b>chargetakentt</b> per poi indicare al <i>trolleyexecutor</i> di implementare lo spostamento fino alla ColdRoom, comunicando infine l'avvenuto deposito con il messaggio <b>chargedeposited</b>.
    </p>

    <p>
        Durante uno qualsiasi degli stati che l'attore assume durante lo spostamento, esso &egrave; in grado di ricevere una richiesta <code class="docutils literal notranslate"><span class="pre">deposit</span></code> che verr&agrave; gestita al termine del ciclo corrente. Se a questo avvenimento nessuna richiesta <code class="docutils literal notranslate"><span class="pre">deposit</span></code> &egrave; presente, l'attore attende <i>1 secondo</i> prima di comunicare al <i>trolleyexecutor</i> di tornare in HOME per poter gestire eventuali nuove richieste di deposito.
    </p>
    <p>
        Durante il ritorno in HOME, <i>transporttrolley</i> &egrave; in grado di ricevere nuove richieste di deposito: in tal caso richiede al <i>trolleyexecutor</i> una azione <code class="docutils literal notranslate"><span class="pre">moveclosest(Xs,Ys)</span></code>.
    </p>

    <p class="nota">
        Gli stati nei quali si attende una risposta dal <i>trolleyexecutor</i> implementano un <b>timeout</b> tramite la transizione <code class="docutils literal notranslate"><span class="pre">whenTime</span></code> per gestire eventuali malfunzionamenti dei supporti sottostanti: in caso di timeout viene comunicato di riavviare l'applicazione, evitando cos&igrave; attese infinite.
    </p>

    <h5>Attore trolleyexecutor</h5>

    <p>
        L'attore <i>trolleyexecutor</i> si occupa della comunicazione con l'attore <i>basicrobot</i>, implementando solamente degli spostamenti dalla posizione attuale alle coordinate <i>(x,y)</i> fornite da <i>transporttrolley</i>. <br>
    </p>

    <p>
        All'inizializzazione viene ingaggiato il <i>basicrobot</i> tramite <b>engage</b>, usando poi <b>setrobotstate</b> per impostare posizione iniziale a <i>(0,0)</i> e direzione <i>d</i>.
    </p>

    <p>
        Il compito principale del trolleyexecutor &egrave; quello di attuare il comando <code class="docutils literal notranslate"><span class="pre">moveclosest</span></code>, a questo scopo viene mantenuta una variabile boolean <code class="docutils literal notranslate"><span class="pre">var isMoving = false</span></code> che assume valore <code class="docutils literal notranslate"><span class="pre">true</span></code> quando il robot &egrave; in movimento e viceversa.<br>
        Questa variabile serve all'attore per discriminare due casi diversi alla ricezione di <code class="docutils literal notranslate"><span class="pre">moveclosest</span></code>:
        <ul>
            <li>se <code class="docutils literal notranslate"><span class="pre">isMoving == true</span></code> viene inviato un evento <code class="docutils literal notranslate"><span class="pre">alarm</span></code> per fermare il robot, viene poi richiesta la posizone attuale del robot con la richiesta <code class="docutils literal notranslate"><span class="pre">getrobotstate</span></code></li>
            <li>se <code class="docutils literal notranslate"><span class="pre">isMoving == false</span></code> viene direttamente richiesta la posizione</li>
        </ul>
        Una volta ottenuta la posizione del robot, l'attore calcola le distanze tra posizione e destinazione e richiede lo spostamento al basicrobot verso la coordinata pi&ugrave; vicina con il messaggio <code class="docutils literal notranslate"><span class="pre">moverobot(X,Y)</span></code>.
    </p>

    <p>
        Il messaggio <code class="docutils literal notranslate"><span class="pre">moveclosest</span></code> contiene due parametri:
        <ol>
            <li>il primo una lista di valori interi che rappresentano le X delle coordinate</li>
            <li>il secondo una lista di valori interi che rappresentano le Y delle coordinate</li>
        </ol>
        Dato che le stringhe dei parametri vengono estratte dal messaggio tramite l'unificazione prolog, esse non possono contenere alcuni caratteri che sono utilizzati da prolog, in particolare <code class="docutils literal notranslate"><span class="pre">,</span></code>, <code class="docutils literal notranslate"><span class="pre">(</span></code> o <code class="docutils literal notranslate"><span class="pre">)</span></code> e non possono iniziare con un valore numerico, &egrave; stata quindi creata una rappresentazione adhoc (arbitraria) per comunicare le coordinate.<br>
        In particolare le stringhe iniziano con il carattere <code class="docutils literal notranslate"><span class="pre">s</span></code> seguito da valori numerici interi, separati dal carattere <code class="docutils literal notranslate"><span class="pre">l</span></code>.
    </p>

    <h6 id="coordinate">Coordinate</h6>

    <p>
        L'attore <i>transporttrolley</i> deve conoscere le coordinate dei landmark (PORT, INDOOR, HOME) per guidare il <i>basicrobot</i>. <br> 
        A questo scopo &egrave; stata creata una apposita classe, <code class="docutils literal notranslate"><span class="pre">unibo.landmarks.LandmarkCoordinates</span></code> che mette a disposizione metodi per <i>caricare e gestire</i> la configurazione dei landmark generata dal <b>MapConfigurator</b>.
    </p>

    <p>
        Si riporta di seguito il diagramma UML della classe <code class="docutils literal notranslate"><span class="pre">LandmarkCoordinates</span></code>. <br>
        <p>
            <img class="imglim img-border" src="../images/sprint1/landmarksUML.png" alt="LandmarkCoordinates UML"><br>
        </p>
        Si denota in particolare il metodo <code class="docutils literal notranslate"><span class="pre">getCoordinateClosestToFor(String, Pair&lt;Int, Int&gt;)</span></code> che permette di ottenere la coordinata pi&ugrave; vicina a una coordinata specificata per un certo landmark, specificato da una stringa che ne indica il nome. <br> 
        Questo permette a <i>transporttrolley</i> di comunicare a <i>trolleyexecutor</i> di spostarsi sempre alla coordinata pi&ugrave; vicina per il landmark di destinazione, essendo alcuni landmark costituiti da pi&ugrave; punti diversi.
    </p>

</div>




<h2 id="deployment">Deployment</h2> 



<div class="remark">

    <h4>Distribuzione</h4>

    <p>
        Per il deployment di queste applicazioni si &egrave; deciso di utilizzare <a href="https://www.docker.com/">Docker</a>,in modo da poter <i>uniformare</i> la metodologia di gestione della distribuzione dei vari componenti del servizio.
    </p>

    <p>
        In particolare abbiamo creato dei Dockerfile, utilizzando l'apposito linguaggio dichiarativo, usati poi per creare le <a href="https://docs.docker.com/glossary/#image">immagini</a> che faranno parte dei <a href="https://docs.docker.com/glossary/#container">container</a> che eseguono i servizi.
    </p>

    <p>
        Si riporta di seguito il Dockerfile usato per generare l'immagine di <i>mapConfigurator</i>.
    </p>

    <pre><code class="language-docker">FROM openjdk:11
EXPOSE 8015
VOLUME ["/data"]
ADD ./build/distributions/unibo.mapConfigurator-boot-2.2.tar /
WORKDIR unibo.mapConfigurator-boot-2.2/bin
CMD ["bash", "./unibo.mapConfigurator"]</code></pre>

    <p>
        Allo scopo di velocizzare la creazione dei Dockerfile e delle rispettive immagini abbiamo implementato una serie di task Gradle che automatizzano questo compito, &egrave; possibile visualizzare queste task in un qualsiasi file build.gradle.kts (<a about="_blank" href="../../projects/unibo.mapConfigurator/build.gradle.kts">esempio</a>).
    </p>

    <p>
        Tutte le immagini docker relative a questo progetto saranno rese disponibili online a questo profilo <a about="_blank" href="https://hub.docker.com/u/riccardoob">Docker Hub</a>.
    </p>

    <p>
        Contestualmente al prossimo sprint verranno realizzate le apposite task Gradle per generare le immagini Docker per tutti i servizi coinvolti, cos&igrave; come la configurazione di un volume docker sfruttato dai container per file condivisi.
    </p>

    <p class="keypoint">
        Utilizzo di <b>Dockerfile</b> per il deployment, generati da task Gradle.
    </p>

    <h5>Controllo</h5>
    
    <p>
        Dati i vari servizi da gestire verr&agrave; progettata e messa a disposizione del cliente una applicazione dedicata alla gestione dei componenti del servizio, permettendo di manipolare impostazioni e valori di default delle applicazioni tramite un'interfaccia grafica.
    </p>

    <h5>Protocollo di avvio</h5>
    <p>Ad ora, in attesa della dockerizzazione di tutti i progetti e della creazione della suddetta applicazione, abbiamo definito il seguente protocollo di avvio dei vari servizi:
        <ol>
            <li><i>VirtualRobot</i> e <i>basicRobot</i> tramite <b>compose</b> delle immagine Docker <br>
                <pre><code class="language-bash">cd ./projects/unibo.basicrobot23 
docker compose -f basicrobot23.yaml up</code></pre>
            </li>
            <li>
                <i>ColdStorageService</i> (progetto Qak) 
                <pre><code class="language-bash">cd ./projects/sprint1v0
gradlew run</code></pre>
            </li>
            <li>
                <i>ServiceAccessGUI</i> (progetto Spring) 
                <pre><code class="language-bash">cd ./projects/unibo.serviceaccessGUI
docker</code></pre>
            </li>
        </ol>
        &Egrave; necessario avviare i servizi in questo ordine per permettere la creazione della connessione tra il client ServiceAccessGUI e il mittente dei messaggi ColdStorageService.
    </p>

</div>
 
<h2>Maintenance</h2> 
 
<div class="remark">

</div>

<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:left;color:white">
GIT repo: https://github.com/RiccardBarbieri/ColdStorageService
<p>Riccardo Barbieri - riccardo.barbieri11@studio.unibo.it</p>
<img src="../images/foto/riccardo.jpg" width="15%" height="15%">
<p>Leonardo Ruberto - leonardo.ruberto@studio.unibo.it</p>
<img src="../images/foto/leonardo.jpg" width="15%" height="15%">
</div>
</body>
</html>
