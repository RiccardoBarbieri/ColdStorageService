<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="stylesheet" href="../_static/template.css">
<link rel="stylesheet" href="../_static/mine.css">
<link rel="stylesheet" href="../_static/code.css">
<link rel="stylesheet" href="../_static/colors.css">
<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/dockerfile.min.js"></script>


<script>hljs.highlightAll();</script>
<title>Sprint2</title>
</head>
    
<body>

<div id="top">

    <h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE<font size="5"></font> </h1>

</div>  

<div class="body"> 

    
<h2>Introduction</h2>

<div class="remark">
    <p>
        All'interno dello <a href="../Sprint1/ColdStorageServiceSprint1V0.html">Sprint1</a> è stato analizzato il <u>core-business</u> dell'applicazione, ovvero le funzionalità offerte dal <i>ColdStorageService</i>, usando la <a href="../Sprint1/ServiceAccessGUISimProjectV1.html">ServiceAccessGUI</a> come prompt per utilizzare i servizi. In questa fase, ci siamo occupati della logica del <i>ColdStorageService</i> usando un contesto semplificativo in cui vi fosse un'interazione per volta. <br>
        In questo Sprint gestiremo invece la presenza di più utilizzatori simultanei, analizzando quindi il concetto di <b>ticket</b> e costruendo la versione finale della <b>ServiceAccessGUI</b>.
    </p>
</div>


<h2>Requirements</h2>
 
<div class="remark">
    <p>
        <a target="_blank" href="https://iss.riccardob.dev/TemaFinale23.html">Descrizione requirements a questa pagina</a><br>
    </p>

    <p>
    <bc>Goals dello Sprint2</bc>:
    <ol>
        <li>Definire cos'è il <b>ticket</b> e come gestirlo</li>
        <li>Implementare la <b>ServiceAccessGUI</b> con il concetto di più utilizzatori contemporanei in un sistema distribuito</li>
    </ol>
    </p>
    <p class="nota">
        Visto quanto realizzato nell'analisi della <a href="../Sprint1/ServiceAccessGUISimProjectV1.html">ServiceAccessGUI</a> relativa allo <i>Sprint1</i>, abbiamo già pronta l'applicazione web di partenza, realizzata con il framework <b>SpringBoot</b>.
    </p>
</div>


<h2>Requirement analysis</h2>

<div class="remark">

    <p>
        Si riporta il modello risultante dall'analisi in <a href="../Sprint1/ColdStorageServiceSprint1V1.html#modello_finale" target="_blank" rel="noopener noreferrer">Sprint1</a>, sul quale si baser&agrave; la seguente analisi.<br>
        <p>
            <img class="bigimglim imgborder" src="../images/sprint1/coldstorageservice23arch.png"></img>
        </p>
    </p>
    <p>
        Inoltre, viene riportato nei seguenti documenti la versione del <i>TemaFinale23</i> analizzata contestualmente a questo Sprint, ed in particolare ai due macro-argomenti:
        <ul>
            <li><a href="../documents/temafinale_sprint2_sag.pdf" target="_blank" rel="noopener noreferrer">ServiceAccessGUI</a></li>
            <li><a href="../documents/temafinale_sprint2_ticket.pdf" target="_blank" rel="noopener noreferrer">gestione del ticket</a></li>
        </ul>
    </p>

    <h3>ServiceAccessGUI</h3>

    <p>
        La <i>ServiceAccessGUI</i> è l'interfaccia grafica a disposizione dell'utente per accedere ai servizi forniti dal <i>ColdStorageService</i>.
    </p>
    <h5>Interazioni</h5>
    <p>
        Di seguito, vengono riportate le interazioni presenti e già implementate nello <i>Sprint1</i>. <br>
        Abbiamo tre attori:
    <ul>
        <li>FridgeTruck: utente umano</li>
        <li>ServiceAccessGUI: interfaccia grafica (<a href="../Sprint1/ServiceAccessGUISimProjectV1.html" target="_blank" rel="noopener noreferrer">applicazione web</a> realizzata relativamente allo <i>Sprint1</i>)</li>
        <li>coldstorageservice: attore <i>qak</i></li>
    </ul>
    </p>
    <table>
        <thead>
            <tr>
                <th>Mittente</th>
                <th>Destinatario</th>
                <th>Tipologia interazione/messaggio</th>
                <th>Identificatore messaggio</th>
                <th>Payload</th>
                <th>Descrizione</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="orange bold center">FridgeTruck</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Interazione umana</td>
                <td></td>
                <td></td>
                <td>Inserimento quantitativo di cibo da depositare in chilogrammi e innesco richiesta di deposito.</td>
            </tr>
            <tr>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Request</td>
                <td>storerequest</td>
                <td>storerequest(FW)</td>
                <td>Richiesta di <b>storage</b> di <b>FW</b> chili di cibo.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Reply</td>
                <td>loadaccepted</td>
                <td>loadaccepted()</td>
                <td>La richiesta di deposito &egrave; stata accettata.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Reply</td>
                <td>loadrejected</td>
                <td>loadrejected()</td>
                <td>La richiesta &egrave; stata rifiutata.</td>
            </tr>
            <tr>
                <td class="orange bold center">FridgeTruck</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Interazione umana</td>
                <td></td>
                <td></td>
                <td>Innesco richiesta di stato del carico.</td>
            </tr>
            <tr>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Request</td>
                <td>chargestatus</td>
                <td>chargestatus()</td>
                <td>Viene richiesto lo stato del carico depositato.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Reply</td>
                <td>chargetaken</td>
                <td>chargetaken()</td>
                <td>Il deposito è stato preso in carico dal transport trolley, il camion deve spostarsi da INDOOR.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Reply</td>
                <td>chargefailed</td>
                <td>chargefailed()</td>
                <td>Ci sono stati problemi durante la presa in carico del deposito.</td>
            </tr>
        </tbody>
    </table>

    <p>
        Dai requisiti non emerge nessun nuovo tipo di interazione tra i componenti gi&agrave; individuati, verranno discusse modifiche alle interazioni gi&agrave; presenti per integrare le nuove funzionalit&agrave; nell'analisi del problema.
    </p>

    <p>
        Ora, come visto nei <a href="../documents/temafinale_sprint2_ticket.pdf" target="_blank" rel="noopener noreferrer">requisiti</a>, a seguito di una richiesta accettata (<i>loadaccepted</i>), il <i>ColdStorageService</i> deve <b>fornire</b> il <b>ticket number</b>. <br>
        Di conseguenza, dovrà essere presente nella <i>SAG</i> un campo per l'<b>inserimento del ticket</b>, da cui poi innescare la richiesta di deposito verso il <i>coldstorageservice</i>, specificando appunto il <i>ticket number</i>.
    </p>
    <p>
        Inoltre, si aggiunge il requisito di visualizzare il peso corrente del materiale immagazzinato nella <a href="#coldroom">Cold Room</a>.
    </p>
    <p class="nota">   
        L'applicazione deve mostrare visualizzazioni separate per ogni utente (operiamo in un contesto distribuito). Quindi, un'utente dovrà visualizzare l'accettazione (o rifiuto) della richiesta e l'eventuale presa in carico solo relativamente alla sua richiesta di deposito. 
    </p>

    <h3>Ticket</h3>
    <p>
        <table>
            <tr>
                <th>Termine</th>
                <th>Descrizione</th>
            </tr>
            <tr>
                <td class="green bold center" id="tickettime">TICKETTIME</td>
                <td>Quantit&agrave; di secondi che esprime la durata della validit&agrave; di un <a href="#ticket">ticket</a>.</td>
            </tr>
            <tr>
                <td class="green bold center" id="ticket">Ticket</td>
                <td>Rappresenta una prenotazione da parte dell'operatore di un camion refrigerato che identifica univocamente una azione di deposito in attesa di <i>charge taken</i>, &egrave; identificato da un <b>numero univoco</b>.</td>
            </tr>
        </table>
        <p>
            Il <b>ticket</b> è quindi l'elemento che il servizio <i>ColdStorageService</i> dovrà inizialmente fornire all'utilizzatore, per poi controllarne la validità in fase di inserimento.
        </p>
        <p class="nota">
            Parlando con il committente si è scoperto non essere necessario che il <i>"numero"</i> del ticket sia propriamente un numero: intendiamolo quindi come un <b>codice</b>.
        </p>
    </p>
</div>


<h2>Problem analysis</h2>

<div class="remark">
    <h3>ServiceAccessGUI</h3>

    <h5>Contesto distribuito</h5>

    <p>
        La <i>ServiceAccessGUI</i> dovrà notificare l'utente della presa in carico del proprio deposito. La separazione delle risposte in base alle varie istanze di <i>SAG</i> presenti è già stata realizzata grazie alla semantica request-reply definita in precedenza. <br>
        Quindi, non abbiamo problemi di memorizzazione degli indirizzi a cui inviare i messaggi.
    </p>

    <p>
        <b>TODO: AGGIUNGER UPDATERESOURCE / EVENT PER L'AGGIORNAMENTO DEL VALORE DELLA COLDROOM + DISCORSO UPDATE INIZIALE</b> <br>
        <b>TODO: il campo per il ticket è disponibile</b>
    </p>

    <p>
        <b>TODO: comunicazione del ticket tramite visualizzazione in plain text sulla web app + maniera alternativa tipo documento</b>
    </p>
    
    <h3>Ticket</h3>
    <p>
        Dall'analisi dei requisiti vediamo che, oltre al <b>codice</b>, un'altro elemento inerente alla gestione del <b>ticket</b> è il <b>TICKETTIME</b>. <br>
        Dobbiamo pensare quindi come gestire la scadenza del ticket. <br>

        <h5>Validità temporale del ticket</h5>
        <p>
            Trattiamo il tempo di validità del ticket come un parametro configurabile alla definizione del <i>ColdStorageService</i>; quindi ogni ticket all'interno della stessa istanza del servizio avrà la stessa durata temporale di validità. <br>
            Sappiamo poi che è il <i>ColdStorageService</i> a controllare la conformità del ticket (correttezza del codice e validità temporale). <br>
            Decidiamo quindi di utilizzare la <b>data di emissione</b> come attributo del ticket, così che il <i>CSS</i> possa controllarne la validità calcolando il tempo attuale meno quello di emissione e vedere se è maggiore o meno del <b>TICKETTIME</b>.
        </p>

        <p class="keypoint">
            <b>KEY-POINT:</b> il TICKETTIME è un parametro configurabile del servizio <i>ColdStorageService</i>, non del ticket in sè.
        </p>
        <p class="keypoint">
            <b>KEY-POINT:</b> ogni ticket avrà associata la propria data di emissione.
        </p>
        <h4>Codice univoco</h4>
        <p>
            Per quanto riguarda il <b>codice</b> abbiamo bisogno che sia univoco, così da non avere collisioni tra diverse richieste di deposito. <br>
            Dobbiamo quindi pensare a:
            <ul>
                <li>che tipo di codice deve essere</li>
                <li>come generarlo e garantire che non collida con altri</li>
                <li>come memorizzarlo ed effettuare il controllo di validità in fase di inserimento dalla <i>SAG</i></li>
            </ul>

            <h5>Codice alfanumerico</h5>
            <p><b>TODO: correggere formato e spiegare i vari campi</b></p>
            <p>
                Il fatto di usaro un numero vero e proprio come codice sarebbe un limite molto forte, in quanto lo spazio di valori non sarebbe così ampio da garantire sicurezza (a meno di non usare un numero di cifre molto elevato). <br>
                Abbiamo optato per l'utilizzo di un <b>codice alfanumerico</b> di <b>8 caratteri</b>, in modo da ottenere un buon trade-off tra costi di computazione e possibilità di collisione: abbiamo infatti uno spazio di valori possibili di più di 6500 miliardi, ampiamente abbastanza per i nostri scopi.
                
                <p class="keypoint">
                    <b>KEY-POINT:</b> il <i>"ticket number"</i> sarà un codice alfanumerico di 8 caratteri.
                </p>
            </p>

            <h5>Generazione</h5>
            <p><b>TODO: veder se lo standard di Java è sicuro</b></p>
            <p>
                La generazione del codice deve avere i requisiti di univocità e di imprevedibilità. Nonostante non si stiano trattando dati sensibili è bene che per utente malevolo sia computazionalmente impossibile prevedere quale sia il prossimo codice che verrà generato; se così non fosse, l'utente potrebbe calcolare il codice ed immetterlo nella <i>SAG</i> prima che l'utente originale arrivi alla <i>INDOOR</i>, depositando al posto suo. <br>
                Conseguentemente a questi requisiti, dovremo usare uno <b>Pseudo Random Number Generator</b> crittograficamente sicuro (la sua implementazione sarà meglio trattata in fase di progettazione).
                
                <p class="keypoint">
                    <b>KEY-POINT (Requisito di sicurezza):</b> per la generazione del codice del ticket verrà usato un PRNG crittograficamente sicuro.
                </p>
            </p>

            <h5>Memorizzazione e controllo</h5>
            <p>
                Per questioni di sicurezza il <b>ticket</b> deve essere memorizzato in modo tale da non poter essere scoperto o dedotto dall'esterno. Per ottenere questo risultato possiamo usare una funzione <b>hash</b>: in questo modo memorizzeremo solamente l'impronta generata dalla suddetta funzione, risparmiando molto in termini di memoria occupata. <br>
                Per effettuare il controllo, al momento dell'inserimento del codice il <i>CSS</i> ricalcolerà l'impronta tramite la stessa funzione hash per vedere se trova corrispondenza. <br>

                <p class="nota"> 
                    <b>Funzione hash</b> <br>
                    Anche qui necessitiamo di una funzione crittograficamente sicura, che sia efficiente, che non permetta il calcolo a ritroso e che soprattutto sia resistente alle collisioni (l'implementazione verrà discussa in fase di progettazione).
                </p>
            </p>
            
            <h5>Associazione ticket-richiesta</h5>
            <p><b>TODO: associazione codiceTicket-istanzaTicketAssociata nella richiesta</b></p>
            <p>
                <b>RIVEDERE SE VA BENE</b>
                Quando il <i>CSS</i> emette il ticket deve esserci un'associazione 1 ad 1 con la richiesta di deposito, così che, quando l'utente inserisce il codice, sia possibile risalire alla richiesta e alla quantità di kg <b>FW</b> da depositare. <br>
                In questo modo non sarà necessario che la <i>SAG</i> invii due volte l'informazione relativa al quantità di cibo da depositare.
            </p>
            <p class="keypoint">
                <b>KEY-POINT:</b> il <i>CSS</i> dovrà memorizzare l'associazione fra una determinata richiesta di deposito (con il relativo quantitativo FW) e il ticket emesso in risposta ad essa.
            </p>
        </p>


    </p>

    <h3>ColdStorageService</h3>

    <p>
        Allo scopo di mantenere componenti che rispettano il principio di singola responsabilit&agrave; abbiamo deciso di creare un nuovo componente (attore): il <b>ticketmanager</b>; questo componente &egrave; incaricato di:
    </p>
    <ul>
        <li>generare un nuovo ticket</li>
        <li>validare un ticket dato il suo codice</li>
        <li>mantenere uno storico dei ticket generati</li>
    </ul>

    <p>
        Di seguito si riporta il modello di interazione tra <i>ServiceAccessGUI</i>, <i>ColdStorageService</i> e il nuovo <i>TicketManager</i>.
    </p>

    <b>TODO: evidenziare i nuovi messaggi</b>
    <table>
        <thead>
            <tr>
                <th>Mittente</th>
                <th>Destinatario</th>
                <th>Tipologia interazione/messaggio</th>
                <th>Identificatore messaggio</th>
                <th>Payload</th>
                <th>Descrizione</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Request</td>
                <td>storerequest</td>
                <td>storerequest(FW)</td>
                <td>Richiesta di <b>storage</b> di <b>FW</b> chili di cibo.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Reply</td>
                <td>loadaccepted</td>
                <td>loadaccepted()</td>
                <td>La richiesta di deposito &egrave; stata accettata.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Reply</td>
                <td>loadrejected</td>
                <td>loadrejected()</td>
                <td>La richiesta &egrave; stata rifiutata.</td>
            </tr>
            <tr>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="orange bold center">ticketmanager</td>
                <td class="blue bold center">Request</td>
                <td>insertticket</td>
                <td>insertticket(TICKET)</td>
                <td>Viene inviato il ticket inserito al ticketmanager.</td>
            </tr>
            <tr>
                <td class="orange bold center">ticketmanager</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Reply</td>
                <td>ticketaccepted</td>
                <td>ticketaccepted()</td>
                <td>Il ticket &egrave; stato validato e accettato dal sistema.</td>
            </tr>
            <tr>
                <td class="orange bold center">ticketmanager</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Reply</td>
                <td>ticketrejected</td>
                <td>ticketrejected()</td>
                <td>Il ticket &egrave; stato validato ma rifiutato dal sistema.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">ticketmanager</td>
                <td class="blue bold center">Request</td>
                <td>generateticket</td>
                <td>generateticket(FW)</td>
                <td>Richiesta per la generazione di un ticket.</td>
            </tr>
            <tr>
                <td class="orange bold center">ticketmanager</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Reply</td>
                <td>ticket</td>
                <td>ticket(TCIKET)</td>
                <td>Il ticket &egrave; stato generato.</td>
            </tr>
            <tr>
                <td class="orange bold center">ticketmanager</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Dispatch</td>
                <td>initdeposit</td>
                <td>initdeposit(TICKET)</td>
                <td>Inizia una azione di deposito dopo la validazione di un ticket.</td>
            </tr>
            <tr>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="orange bold center">coldstorageservice</td>
                <td class="blue bold center">Request</td>
                <td>chargestatus</td>
                <td>chargestatus()</td>
                <td>Viene richiesto lo stato del carico depositato.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Reply</td>
                <td>chargetaken</td>
                <td>chargetaken()</td>
                <td>Il deposito è stato preso in carico dal transport trolley, il camion deve spostarsi da INDOOR.</td>
            </tr>
            <tr>
                <td class="orange bold center">coldstorageservice</td>
                <td class="orange bold center">ServiceAccessGUI</td>
                <td class="blue bold center">Reply</td>
                <td>chargefailed</td>
                <td>chargefailed()</td>
                <td>Ci sono stati problemi durante la presa in carico del deposito.</td>
            </tr>
        </tbody>
    </table>

    <p>
        Il messaggio <i>chargestatus</i> &egrave; stato sostituito dal messaggio <b>insertticket</b>: l'azione di deposito viene ora iniziata da questo messaggio.
    </p>

    <p class="keypoint">
        <b>KEY-POINT:</b> Per mantenere un unico punto di accesso al sistema il messaggio <b>insertticket</b> pu&ograve; essere inviato a coldstorageservice che delegher&agrave; la gestione al ticketmanager.
    </p>

    <h3>Architettura logica</h3>
    
    <p>
        Si riporta di seguito il modello di architettura logica sulla quale si baser&agrave; la progettazione
    </p>

    <img class="bigimglim" src="../images/sprint2/coldstorageservice23arch.png" alt="Modello architettura logica">

    <br>
    <b>TODO: SPECIFICARE CHE DECIDIAMO DI IMPLEMENTARE AGGIORNAMENTO DEPOSITO COLDROOM CON COAPOBSERVER</b><br>

    <b>TODO: AGGIORNARE ARCH CON CHARGESTATUS</b>
    

</div>


<h2>Test plans</h2> 

<div class="remark">
    <p>
        Per quanto riguarda i piani di test da implementare, rimanendo ad un <b>livello logico</b>, bisogna effettuare i seguenti controlli:
        <ul>
            <li>ogni istanza deve gestire la visualizzazione in base agli aggiornamenti relativi solo ed esclusivamene alla sua sessione. In particolare:
                <ul>
                    <li>ad ogni richiesta di deposito deve arrivare la risposta (accettata, rifiutata o un errore come il timeout)</li>
                    <li>in caso di richiesta accettata deve essere essere visualizzato il messaggio di presa in carico</li>
                    <li>la pagina web non deve permettere di effettuare due richieste all'interno della stessa sessione/istanza</li>
                </ul>
            </li>
            <li>se arrivano due richieste di deposito con lo stesso identificativo, la seconda in ordine temporale deve essere rifiutata</li>
            <li>non devono essere generati dal CSS dei codici di ticket uguali la cui validità temporale possa sovrapporsi</li>
        </ul>
    </p>
</div>


<h2>Project</h2> 
 
<div class="remark">

    <h3>TicketManager</h3>

    <p>
        L'attore <b>ticketmanager</b> mantiene un'istanza della classe <code class="docutils literal notranslate"><span class="pre">TicketManager</span></code>, questa classe implementa metodi per la generazione di un nuovo ticket e gestisce lo storico dei ticket generati, esponendo metodi per salvare e caricare memoria persistente le informazioni.<br>
    Si riporta di seguito l'UML della classe in questione.
    </p>

    <p><b>TODO: vedere se è fattibile inserirla</b></p>

    <b>TODO INSERIRE UML</b>
    <img src="" alt="">

    <p>
        La classe <code class="docutils literal notranslate"><span class="pre">TicketManager</span></code> mantiene i ticket come istanze della data class <code class="docutils literal notranslate"><span class="pre">Ticket</span></code>, si riportano di seguito le specifiche delle propriet&agrave; della classe.
    </p>

    <b>TODO UML TICKET</b>
    <img src="" alt="">

    <h5>Identificazione ticket</h5>

    <p>
        A ogni ticket viene associato un id intero incrementale che lo identifica univocamente, tuttavia questo valore &egrave; a solo uso interno del TicketManager, il sistema tratter&agrave; i ticket tramite la loro rappresentazione, ovvero il codice che viene scambiato con gli utenti del sistema.
    </p>

    <h5>Gestione tempo di creazione</h5>
    <p>
        A ogni ticket viene associato un timestamp campionato nel momento in cui viene restituito il valore dal metodo che lo genera, viene salvato come valore unix timestamp <code class="docutils literal notranslate"><span class="pre">long</span></code> in millisecondi.
    </p>

    <h3>ColdStorageService</h3>

    <h5>Delega al ticketmanager</h5>

    <p>
        Come specificato in precedenza, il messaggio <i>insertticket</i> pu&ograve; essere inviato a <i>coldstorageservice</i> ma verr&agrave; comunque gestito dal <i>ticketmanager</i>, questa funzionalit&agrave; &egrave; stata implementata utilizzando la keyword <code class="docutils literal notranslate"><span class="pre">delegate</span></code> messa a disposizione dal framework qak.
    </p>
    <p>
        Nello stato iniziale dell'attore <i>coldstorageservice</i> &egrave; riportata la seguente istruzione:
    </p>
    <pre><code class="language-bash">delegate "insertticket" to ticketmanager</code></pre>

    <h3>ServiceAccessGUI</h3>

    <b>TODO: nuova parte sulle WS + CoapObserver + implementazione download documento</b>

</div>


<h2>Testing</h2> 
 
<div class="remark">

</div>


<h2>Deployment</h2> 

<div class="remark">
    <p>Per il Deployment si fa riferimento alla sezione dello <a href="../Sprint1/ColdStorageServiceSprint1V1.html#deployment" target="_blank" rel="noopener noreferrer">Sprint1</a>. <br>
    Una più attenta analisi verrà rimandata in un documento successivo.
    </p> 
</div>

<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:left;color:white">
    GIT repo: https://github.com/RiccardBarbieri/ColdStorageService
    <p>Riccardo Barbieri - riccardo.barbieri11@studio.unibo.it</p>
    <img src="../images/foto/riccardo.jpg" width="15%" height="15%">
    <p>Leonardo Ruberto - leonardo.ruberto@studio.unibo.it</p>
    <img src="../images/foto/leonardo.jpg" width="15%" height="15%">
    </div>
</body>
</html>
