<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="stylesheet" href="../_static/template.css">
<link rel="stylesheet" href="../_static/mine.css">
<link rel="stylesheet" href="../_static/code.css">
<link rel="stylesheet" href="../_static/colors.css">
<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/dockerfile.min.js"></script>


<script>hljs.highlightAll();</script>
<title>Sprint4</title>
</head>
    
<body>

<div id="top">

    <h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE<font size="5"></font> </h1>

</div>  

<div class="body"> 

    
<h2>Introduction</h2>

      
<div class="remark" id="intro">
    <p>
        In questo Sprint verrà analizzata la <b>ServiceStatusGUI</b>, componente software per permettere ad un utente umano di supervisionare lo stato della ServiceStatusGUI.
        <p class="nota">
            Ci poniamo già in un contesto in cui la <i>ServiceStatusGUI</i> sarà un'applicazione web realizzata tramite il framework <i>SpringBoot</i>, sia per uniformare lo stack tecnologico (<a href="../Sprint1/ServiceAccessGUISimProjectV1.html">ServiceAccessGUI</a>, <a href="../Sprint1/MapConfiguratorProject.html">MapConfigurator</a>), sia per diminuizione dei costi.
        </p>
    </p>
</div>


<h2>Requirements</h2>
 
<div class="remark">
    <p>
        <a target="_blank" href="https://iss.riccardob.dev/TemaFinale23.html">Descrizione requirements a questa pagina</a><br>
    </p>

    <p>
    <bc id="goals">Goals dello Sprint4</bc>:
    La <i>ServiceStatusGUI</i> dovrà mostrare:
    <ol>
        <li>il <b>peso attuale</b> del materiale immagazzinato nella ColdRoom</li>
        <li>il numero di <b>richieste di deposito rifiutate</b> dall'inizio del servizio</li>
        <li>lo <b>stato corrente</b> del <i>TransportTrolley</i> e la sua <b>posizione</b> nella stanza</li>
    </ol>
    </p>
    
</div>


<h2>Requirement analysis</h2>

<div class="remark">

    <p>
        Viene riportato nel <a href="../documents/temafinale_sprint4.pdf" target="_blank" rel="noopener noreferrer">seguente documento</a> la versione del <i>TemaFinale23</i> analizzata contestualmente a questo Sprint.
    </p>

    <p class="nota">
        Questo componente è alieno al progetto core del sistema (<i>qak</i>), non è per cui necessario, per ora, riportarne il modello architetturale.
    </p>

    <p>
        Mentre i primi 2 requisiti risultano molto chiari, il terzo viene analizzato di seguito.
    </p>

    <h5>Stato corrente del <i>TT</i> e <b>posizione</b></h5>
    <p>
        Dopo il colloqui con il committente, abbiamo chiarito che con <b>stato corrente</b> del <i>TransportTrolley</i> si intende l'informazione che sia:
        <ul>
            <li>fermo</li>
            <li>in movimento</li>
        </ul>
        Mentre, per la <b>posizione</b>, dobbiamo fornire l'informazione <i>relativamente alla stanza che naviga</i>. <br>
        Questo significa fornire all'utente anche una sorta di <u>rappresentazione della stanza</u> per dare un senso alla <i>posizione</i> del robot.
    </p>
</div>

<h2>Problem analysis</h2>

<div class="remark">
    <p class="keypoint">
        <b>KEY-POINT:</b> ricordiamo che, come detto in <a href="#intro">introduzione</a>, la <i>ServiceStatusGUI</i> sarà un'applicazione web in <b>Spring</b>
    </p>

    <p>
        Di seguito, verranno analizzati i 3 requisiti presenti in <a href="#goals">Requirements</a>.
    </p>
    <h5>Visualizzazione del <u>peso attuale</u> del materiale immagazzinato nella ColdRoom</h5>

    <p>
        Questa funzionalità è già stata implementata per la <i>ServiceAccessGUI</i> all'interno di <a href="../../docs/Sprint2/ColdStorageServiceSprint2V0.html#stato_coldRoom" target="_blank" rel="noopener noreferrer">questa sezione</a> dello <i>Sprint2</i>, per cui, vista anche l'uniformità dello stack tecnologico, non ci dilungheremo. <br>
        Oltre al concetto di <b>osservabilità</b> (analogo), per quanto riguarda l'inizializzazione verrà utilizzata la stessa <i>request-reply</i> della <i>ServiceAccessGUI</i>, che riportiamo di seguito.
        
        <table>
            <thead>
                <tr>
                    <th>Mittente</th>
                    <th>Destinatario</th>
                    <th>Tipologia interazione/messaggio</th>
                    <th>Identificatore messaggio</th>
                    <th>Payload</th>
                    <th>Descrizione</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="orange bold center">ServiceStatusGUI</td>
                    <td class="orange bold center">coldstorageservice</td>
                    <td class="blue bold center">Request</td>
                    <td>initcoldroom</td>
                    <td>initcoldroom()</td>
                    <td>Richiesta del valore attuale della ColdRoom.</td>
                </tr>
                <tr>
                    <td class="orange bold center">coldstorageservice</td>
                    <td class="orange bold center">ServiceStatusGUI</td>
                    <td class="blue bold center">Reply</td>
                    <td>coldroom</td>
                    <td>coldroom(ACTUAL,TEMP)</td>
                    <td>Valore di kg nella ColdRoom effettivi e totali (contando anche quelli in coda).</td>
                </tr>
            </tbody>
        </table>
    
    </p>

    <h5>Visualizzazione del numero di <u>richieste di deposito rifiutate</u> dall'inizio del servizio</h5>
    <p>
        Analogamante alla visualizzazione del peso immagazzinato nella ColdRoom, sfruttiamo l'<b>osservabilità</b> degli attori <i>qak</i> ed il protocollo <b>Coap</b>. L'attore <i>coldstorageservice</i>, che gestisce le richieste di deposito, emetterà un <b>event</b> (<i>updateResuource</i>) con il valore aggiornato del numero di richieste rifiutare e la <i>SSG</i> si sottoscriverà come osservatore.  <br>
        Anche qui, non ci dilungheremo ulteriormente.

        <p class="nota">
            <b>COMMITTENTE:</b> valutare l'interesse di fornire, a costo praticamente nullo, anche l'info su quelle rifutate per via di errori nell'inserimento del ticket.
        </p>
    </p>

    <h5>Visualizzazione <u>stato corrente</u> del <i>TT</i> e <u>posizione</u> nella ColdRoom</h5>

    <p>
        Anche qui, ci si basa sul concetto di osservabilità discusso appena sopra.
    </p>

    <p>
        Per entrambi i requisiti (stato e posizione), deleghiamoo l'emissione dell'evento contenente le informazioni al <i>TransportTrolley</i>, ovvero colui che realizza la logica di movimento.
    </p>
    <p>
        All'interno di <a href="../Sprint1/ColdStorageServiceSprint1V1.html#basicRobot_analisi" target="_blank" rel="noopener noreferrer">questa sezione</a> dello <i>Sprint1</i> sono presenti tutte le interazioni tra <i>TransportTrolley</i>, <i>TrolleyExecutor</i> e <i>BasicRobot</i>. Riportiamo di seguito solo quelle di interesse.
        <table>
            <thead>
                <tr>
                    <th>Mittente</th>
                    <th>Destinatario</th>
                    <th>Tipologia messaggio</th>
                    <th>Identificatore</th>
                    <th>Payload</th>
                    <th>Significato</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="orange bold center">transporttrolley</td>
                    <td class="orange bold center">trolleyexecutor</td>
                    <td class="blue bold center">Request</td>
                    <td>move</td>
                    <td>move(X, Y)</td>
                    <td>Il TT comunica al TE le coordinate verso cui effettuare lo spostamento</td>
                </tr>
                <tr>
                    <td class="orange bold center">trolleyexecutor</td>
                    <td class="orange bold center">transporttrolley</td>
                    <td class="blue bold center">Reply</td>
                    <td>movedone</td>
                    <td>movedone()</td>
                    <td>Lo spostamento è andato a buon fine</td>
                </tr>
                <tr>
                    <td class="orange bold center">trolleyexecutor</td>
                    <td class="orange bold center">transporttrolley</td>
                    <td class="blue bold center">Reply</td>
                    <td>movefailed</td>
                    <td>movefailed()</td>
                    <td>Lo spostamento NON è andato a buon fine</td>
                </tr>
            </tbody>
        </table>
    </p>
    <p class="nota">
        Abbiamo omesso l'interazione <i>moveclosest</i> per ridondanza e comodità di visualizzazione.
    </p>
    <p>
        Il <i>TransportTrolley</i> è il solo ad avere in pancia tutte le informazioni necessarie. In particolare, sa se il robot è in movimento o meno grazie all'interazione <i>move/moveclosest</i>: sarà necessario emettere un evento "movimento" alla richiesta <i>move</i> ed un altro evento "fermo", alla risposta <i>movedone/movefailed</i>
    </p>
    <p>
        Per quanto riguarda la <b>posizione</b>, si può ricavare dalle coordinate che il <i>TT</i> invia al <i>TE</i> per implementare il movimento. Infatti, ricordiamo che il <i>TT</i> ha un mapping <i>landmarks-coordinate</i> che gli permette di conoscere la posizione del robot all'interno della stanza. <br>
        Ancora una volta, sarà sufficiente emettere un evento <i>"descrittivo"</i> (HOME, INDOOR, ColdRoom), ogni volta che la posizione del robot cambia. Inoltre, potremo fornire informazioni come "sta andando verso HOME", sapendo appunto le coordinate verso cui lo si sta facendo muovere.
        <p class="keypoint">
            <b>KEY-POINT:</b> in questo modo avremo la <b>posizione puntuale</b> del robot <u>solo quando è fermo</u>. Discutere quindi con il committente questa soluzione.
        </p>
    </p>

    <h5>Posizione del <i>TransportTrolley</i></h5>
    <p>
        Mentre l'informazione sul movimento combacia bene con la <i>moverobot</i>, la stessa cosa non 
    </p>
    <h3>Architettura logica</h3>
    
    <p>
        Si riporta di seguito il modello di architettura logica, limitato al contesto di interesse della <i>ServiceStatusGUI</i>.
    </p>

    <b>TODO: inserire modello tagliato</b>
    <img class="bigimglim" src="../images/sprint4/coldstorageservice23arch.png" alt="Modello architettura logica">

    <p class="keypoint">
        <b>ATTENZIONE:</b> la <i>ServiceStatusGUI</i> NON è stata generata dal progetto <i>qak</i>, per cui va aggiornata manualmente a fronte di eventuali modifiche.
    </p>
</div>


<h2 id="test_plans">Test plans</h2> 

<div class="remark">
    <p>
        In accordo con il committente, non sono previsti piani di test per questo Sprint.
    </p>
</div>


<h2>Project</h2> 
 
<div class="remark">

    
</div>


<h2>Deployment</h2> 

<div class="remark">
    <p>
        Per il deployment ci si basa sulla sezione all'interno dello <a href="../Sprint1/ColdStorageServiceSprint1V1.html#deployment">Sprint1</a>. <br>
        Relativamente alla <i>ServiceStatusGUI</i>, analogamente alla <a href="../Sprint1/ServiceAccessGUISimProjectV1.html#deployment">SAG</a>, riportiamo il comando per l'avvio dell'applicazione.

        <p>
            <i>ServiceStatusGUI</i> (progetto Spring) 
            <pre><code class="language-bash">cd ./projects/unibo.servicestatusGUI
    gradlew bootRun</code></pre>
        </p>
    </p>
</div>

<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:left;color:white">
    GIT repo: https://github.com/RiccardBarbieri/ColdStorageService
    <p>Riccardo Barbieri - riccardo.barbieri11@studio.unibo.it</p>
    <img src="../images/foto/riccardo.jpg" width="15%" height="15%">
    <p>Leonardo Ruberto - leonardo.ruberto@studio.unibo.it</p>
    <img src="../images/foto/leonardo.jpg" width="15%" height="15%">
    </div>
</body>
</html>
